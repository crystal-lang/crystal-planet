{"id":"Pufd3b1W2k6wTiLsAaYmfbmYhpt2oECwmzhkA1Gmy5385NLty9yVj866","title":"Crystal Forum - Latest topics","displayTitle":"Forum","url":"https://forum.crystal-lang.org/latest.rss","feedLink":"https://forum.crystal-lang.org/latest","isQuery":false,"isEmpty":false,"isHidden":false,"itemCount":30,"items":[{"title":"Similar to asyncio","url":"https://forum.crystal-lang.org/t/similar-to-asyncio/8744","date":1772405087,"author":"junetxp01","guid":33,"unread":true,"content":"<p>Does Crystal have a library similar to asyncio like in Python?</p>","contentLength":62,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Redis protocol update","url":"https://forum.crystal-lang.org/t/redis-protocol-update/8743","date":1772401112,"author":"jgaskins","guid":32,"unread":true,"content":"<p>I’ve been wanting to update my Redis shard for the past few years to use the RESP3 format, which adds new data types and changes the output format of some existing commands. Details are in <a href=\"https://github.com/jgaskins/redis/issues/68\" rel=\"noopener nofollow ugc\">this issue</a>. I originally kept it on RESP2 because, at the time, nothing was using RESP3. Even the modules owned by Redis Labs (now just called Redis, Inc) were still outputting RESP2 data types.</p><p>The downside is that it’s a pretty breaking change, which is difficult for something like Redis where most applications aren’t using it directly and are instead using it through shards like  and . Both of those shards do dependency management well and would avoid this breaking change until they were ready to upgrade, but others might not.</p><p>Anyway, if anyone’s willing to take a look and offer feedback, that would be helpful.</p>","contentLength":816,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Projects that shouldn't work: doomcr","url":"https://forum.crystal-lang.org/t/projects-that-shouldnt-work-doomcr/8740","date":1772249531,"author":"omarluq","guid":31,"unread":true,"content":"<p>I did a fun and useless thing: put Doom in the terminal with Crystal.\nWhy did I do this? Because why not.<p>\nHonestly I fully expected this to explode. It did not.</p></p><ul><li>shareware  (default)</li><li>Freedoom ()</li></ul><pre data-code-wrap=\"bash\"><code>docker run --rm -it doomcr:latest\ndocker run --rm -it -e DOOM_WAD_SOURCE=freedoom doomcr:latest\n</code></pre><p>You can also mount your own IWAD if you already have one.</p><p>If anyone wants to try it and roast the terminal rendering/input handling, I’m all ears.</p>","contentLength":434,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Error: can't find file 'sanitize'","url":"https://forum.crystal-lang.org/t/error-cant-find-file-sanitize/8739","date":1772182894,"author":"zw963","guid":30,"unread":true,"content":"<p>I run shards install on my project (which use  as development dependencies failed</p><pre data-code-wrap=\"crystal\"><code> ╰──➤ $ shards install\nResolving dependencies\nFetching https://github.com/j8r/tail.cr.git\nFetching https://github.com/crystal-ameba/ameba.git\nFetching https://github.com/vici37/cr-source-typer.git\nFetching https://github.com/petoem/inotify.cr.git\nFetching https://github.com/i3oris/reply.git\nFetching https://github.com/icyleaf/markd.git\nInstalling inotify (1.2.0 at 77b9c80)\nInstalling tail (0.3.1)\nInstalling ameba (1.6.4)\nPostinstall of ameba: shards build -Dpreview_mt\nInstalling markd (0.5.0)\nInstalling reply (0.4.0)\nInstalling source-typer (0.3.5 at 022b9d3)\nPostinstall of source-typer: shards build --without-development\nFailed postinstall of source-typer on shards build --without-development:\nCRYSTAL_WORKERS=\nargs=   --without-development\nI: Resolving dependencies\nI: Fetching https://github.com/icyleaf/markd.git\nI: Fetching https://github.com/i3oris/reply.git\nI: Using markd (0.5.0)\nI: Using reply (0.4.0)\nI: Writing shard.lock\nI: Building: typer\nE: Error target typer failed to compile:\nShowing last frame. Use --error-trace for full trace.\n\nThere was a problem expanding macro 'macro_140407006690976'\n\nCode in /home/zw963/Crystal/share/crystal/src/compiler/crystal/tools/doc/markd_doc_renderer.cr:1:1\n\n 1 | {% if !flag?(:without_libxml2) %}\n     ^\nCalled macro defined in /home/zw963/Crystal/share/crystal/src/compiler/crystal/tools/doc/markd_doc_renderer.cr:1:1\n\n 1 | {% if !flag?(:without_libxml2) %}\n\nWhich expanded to:\n\n   1 |\n &gt; 2 |   require \"sanitize\"\n         ^\nError: can't find file 'sanitize'\n\nIf you're trying to require a shard:\n- Did you remember to run `shards install`?\n- Did you make sure you're running the compiler in the same directory as your shard.yml?\n</code></pre><p>I notice sanitize is a shards  in the crystal source code, but after I installed my self-compiled crystal compiler.</p><ol><li>not install(copy) following folder into dest install folder\n╰──➤ $ ls lib/</li><li> not include the lib folder</li></ol><p>Could the command I ran during installation be wrong?</p><p>FLAGS=-Dpreview_mt make interpreter=1 stats=1 release=1</p><p>following is the installed files:(no lib)</p><p>```\ntmp\n└── local\n│   └── crystal\n├── bash-completion\n├── fish\n├── man\n```</p><p>Or do I need to do some copying and setup myself?</p>","contentLength":2308,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Crystal spec hangs on Apple Silicon after linking","url":"https://forum.crystal-lang.org/t/crystal-spec-hangs-on-apple-silicon-after-linking/8738","date":1772177996,"author":"hahwul","guid":29,"unread":true,"content":"<p>I’m experiencing an issue where  completes Parse/Semantic and all Codegen stages (bc+obj/linking/dsymutil), but then completely hangs and doesn’t execute the specs.</p><p>Here is the output with </p><pre><code>$ crystal spec\n^C\n\nAborted!\nFinished in 5:40 minutes\n\n$ crystal spec -p -s\nParse:                             00:00:00.000543875 (   1.27MB)\nSemantic (top level):              00:00:00.305503792 ( 199.34MB)\nSemantic (new):                    00:00:00.001553541 ( 199.34MB)\nSemantic (type declarations):      00:00:00.020784875 ( 199.34MB)\nSemantic (abstract def check):     00:00:00.006858708 ( 215.34MB)\nSemantic (restrictions augmenter): 00:00:00.006153750 ( 231.34MB)\nSemantic (ivars initializers):     00:00:00.008899000 ( 231.34MB)\nSemantic (cvars initializers):     00:00:00.087336542 ( 263.39MB)\nSemantic (main):                   00:00:00.894053917 ( 712.27MB)\nSemantic (cleanup):                00:00:00.000304000 ( 712.27MB)\nSemantic (recursive struct check): 00:00:00.000601084 ( 712.27MB)\nCodegen (crystal):                 00:00:00.737221750 ( 777.27MB)\nCodegen (bc+obj):                  00:00:00.511846916 ( 811.27MB)\nCodegen (linking):                 00:00:00.206456875 ( 811.27MB)\ndsymutil:                          00:00:00.209412083 ( 811.27MB)\n\nCodegen (bc+obj):\n - all previous .o files were reused\n^C\n\nAborted!\nFinished in 17.36 seconds\n0 examples, 0 failures, 0 errors, 0 pending\n</code></pre><ul><li><p>Individual specs run fine when executed separately.</p></li><li><p>This issue consistently happens on macOS / Apple Silicon.</p></li><li><p>Clearing the cache () does not fix the issue; it still hangs right after the Codegen/linking stage.</p></li><li><p>CPU Usage: While hanging, both the  process and the compiled  binary sit at 0.0% CPU (State ). I think.. this indicates a deadlock or a blocking wait rather than an infinite loop.</p></li><li><p>You can reproduce this by cloning the <a href=\"https://github.com/owasp-noir/noir\" rel=\"noopener nofollow ugc\">OWASP Noir</a> repository and running .</p></li></ul><ul><li><p>Architecture: Apple Silicon (ARM64)</p></li></ul><p>I suspect this might be a macOS-specific LLVM or spec runner issue, possibly a deadlock when the runner tries to execute the compiled spec binary. Has anyone seen this behavior before, or have any pointers on how to debug this further?</p>","contentLength":2125,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Retriggering a shards postinstall?","url":"https://forum.crystal-lang.org/t/retriggering-a-shards-postinstall/8737","date":1772169651,"author":"Fijxu","guid":28,"unread":true,"content":"<p>Some tools that I use like <a href=\"https://github.com/crystal-ameba/ameba\" rel=\"noopener nofollow ugc\">Ameba</a> and <a href=\"https://github.com/Vici37/cr-source-typer\" rel=\"noopener nofollow ugc\">cr-source-typer</a> execute a postinstall (example: <a href=\"https://github.com/Vici37/cr-source-typer/blob/master/shard.yml#L28\" rel=\"noopener nofollow ugc\">cr-source-typer/shard.yml at master · Vici37/cr-source-typer · GitHub</a> ) and will place it’s executable in the  directory of the current project, but when the system is updated, shared libraries change and then the shard binary has to be rebuilt, but shards does not seem to have an easy way to re trigger the postinstall without removing the dependency from the  file and running <code>shards install &lt;dependency&gt;</code>.</p><p>There is any other way to do it? Would be great is shards could keep track of the installed binaries from dependencies and check if their linked libraries are still valid or something like that.</p>","contentLength":691,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Today in prototypes that worked too well: Sheety!","url":"https://forum.crystal-lang.org/t/today-in-prototypes-that-worked-too-well-sheety/8733","date":1771970026,"author":"ralsina","guid":27,"unread":true,"content":"<p>What is a spreadsheet? It’s a bunch of nodes tied with dependencies. Some of the nodes are pure data, others are code.</p><p>It’s a DAG. And you know who has wrote library that processes DAGs as tasks? This guy! it’s called Croupier.</p><p>So, some cells are just a value with a key: </p><p>Other cells are code: </p><p>But of course the code is in “Excel formula language” … how if there was a parser for it? There are a bunch. I liked one called  “formulas” in Python. So I ported it to Crystal, and that creates a AST.</p><p>Of course one can use a AST to generate code. So it could generate Crystal code. Which could be defined as Croupier tasks. Of course the parser knows EXACTLY the dependencies. So the tasks can be wired to do the right thing.</p><p>So then you can compile the “spreadsheet” into a program.</p><p>And the cells that are just data don’t need to recompile the program, they are just data, you update, then croupier reruns ONLY the tasks that need running, updating ONLY the cells that need updating, and can even do that on multiple threads.</p><p>Here’s an example of it in “action”:</p><p><small>20 posts - 5 participants</small></p>","contentLength":1105,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Possible Bug report: Problem compiling Crystal programs after update to the latest release on Termux (Android)","url":"https://forum.crystal-lang.org/t/possible-bug-report-problem-compiling-crystal-programs-after-update-to-the-latest-release-on-termux-android/8732","date":1771966326,"author":"MathNerd","guid":26,"unread":true,"content":"<p>As depicted in the image below:</p><p>Before the update everything worked just fine.</p>","contentLength":77,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"How to search keyword on Crystal lang Change log?","url":"https://forum.crystal-lang.org/t/how-to-search-keyword-on-crystal-lang-change-log/8731","date":1771828418,"author":"zw963","guid":25,"unread":true,"content":"<p>e.g. I want to search which release introduce , there is no useful version info in the doc, use the search input box on the github release page always no meaningful result, what I expect is I can search the change log easier use my local grep tools.</p>","contentLength":249,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Vibe Collab: a way to collaborate while wielding AI agents","url":"https://forum.crystal-lang.org/t/vibe-collab-a-way-to-collaborate-while-wielding-ai-agents/8729","date":1771739571,"author":"renich","guid":24,"unread":true,"content":"<p>I am opening this topic so that we can discuss this.</p><p>We should create a protocol to enable sane collaboration while using AI agents.</p><ul><li>What that protocol should be.</li><li>How does practical collaboration among developers, AI agents and core developers look like?</li><li>What is practical/impractical?</li><li>What speeds up development, review and integration?</li><li>What are the compromises?</li></ul>","contentLength":357,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Why Isn't Every Sane Developer Obsessed with Crystal?","url":"https://forum.crystal-lang.org/t/why-isnt-every-sane-developer-obsessed-with-crystal/8728","date":1771716656,"author":"omarluq","guid":23,"unread":true,"content":"<p>Seriously. This keeps me up at night. The language is right there. It’s fast, it’s beautiful, it’s expressive, the type system is incredible, and it compiles to native binaries. What more do people want?</p><p>I watch developers mass migrate to languages that make them fight the compiler, write verbose boilerplate, or handle errors like it’s 1995, and I just don’t get it. Crystal is something genuinely special and the rest of the world just walks right past it.</p><p>What is it going to take?</p><p><small>35 posts - 14 participants</small></p>","contentLength":519,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"The mighty Tsoding made a crystal video","url":"https://forum.crystal-lang.org/t/the-mighty-tsoding-made-a-crystal-video/8727","date":1771608525,"author":"renich","guid":22,"unread":true,"content":"<p>I dunno if you follow this guy. I do. He’s a master programmer.</p><p>Well, he made a YouTube video 5 years ago to try out crystal.</p><p>Haven’t seen it yet but I was gratiously amazed.</p>","contentLength":176,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Need to crazy-optimize some GMP stuff?","url":"https://forum.crystal-lang.org/t/need-to-crazy-optimize-some-gmp-stuff/8726","date":1771601768,"author":"ralsina","guid":21,"unread":true,"content":"<p>While crystal stdlib has a GMP binding (The Big Module) which is super convenient to use, what happens when you need something NOT convenient to use but faster?</p><p>The main bottleneck in Big’s performance is that they are immutable, so super tight loops with operations on Bigs will pay the object allocation tax.</p><pre data-code-wrap=\"crystal\"><code>require \"mut_gmp\"\n\na = MutGMP::MpZ.new(42)\nb = MutGMP::MpZ.new(10)\n\na.add!(b)  # a is now 52, mutated in-place\na.mul!(2)  # a is now 104\n\n# Operations can be chained\nc = MutGMP::MpZ.new(5)\nc.add!(10).mul!(2).sub!(5)  # c is now 25\n</code></pre>","contentLength":542,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"ANSI sequences modified unexpectedly","url":"https://forum.crystal-lang.org/t/ansi-sequences-modified-unexpectedly/8722","date":1771519566,"author":"hutou","guid":20,"unread":true,"content":"<p>In a specification source code, I use ANSI sequences to surround certain values in order to check if they are rendered correctly. Several months ago (March 2025), when I wrote this code, the specifications worked correctly.\nToday, they fail (Crystal 1.19.1) and I noticed something strange:<p>\nin the displayed failures, the sequence </p> in my source code (the “expected” value) is replaced by the sequence  (the “obtained” value), which of course produces an error.\nI don’t understand why!</p>","contentLength":494,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Di; new dependency injection shard","url":"https://forum.crystal-lang.org/t/di-new-dependency-injection-shard/8719","date":1771470174,"author":"omarluq","guid":19,"unread":true,"content":"<p>I just released Di v0.1.0, a new dependency injection shard.</p><p>Di is macro first and type safe. It supports auto wire from constructor types, named services, transient services, fiber local scopes, health checks, and graceful shutdown.</p><pre data-code-wrap=\"crystal\"><code>require \"di\"\n\nDi.provide { Database.new(ENV[\"DATABASE_URL\"]) }\nDi.provide UserRepo\nDi.provide UserService\n\nsvc = Di.invoke(UserService)\n# or\nsvc = Di[UserService]\n\nDi.scope(:request) do\n  Di.provide { CurrentUser.from_token(token) }\n  current = Di.invoke(CurrentUser)\n  # or\n  current = Di[CurrentUser]\nend\n</code></pre><p>Feedback are always welcome.</p><p><small>18 posts - 5 participants</small></p>","contentLength":592,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"I Built A Crystal Compiler With Parallel/Incremental Compilation","url":"https://forum.crystal-lang.org/t/i-built-a-crystal-compiler-with-parallel-incremental-compilation/8718","date":1771350037,"author":"crimson-knight","guid":18,"unread":true,"content":"<p>I’ve been working on incremental compilation for Crystal and I’m at the point where I need people with real projects to try it out and tell me what they see.</p><p> is a build of the Crystal compiler from my  branch. It tracks dependency changes at the file level and skips recompilation of files that haven’t changed. The result is that after your first compile, subsequent compiles while you’re developing should be significantly faster.</p><p>It also includes WASM compilation support ( target), but the main thing I’m looking for feedback on right now is the incremental compilation experience during active development.</p><h2><a name=\"p-33767-install-macos-only-right-now-2\" href=\"https://forum.crystal-lang.org#p-33767-install-macos-only-right-now-2\" aria-label=\"Heading link\"></a>Install (macOS only right now)</h2><pre data-code-wrap=\"bash\"><code>\nbrew tap crimson-knight/crystal-alpha\n\nbrew install crystal-alpha\n\n</code></pre><p>That’s it. This installs alongside your existing  compiler - it doesn’t replace it.</p><p>It works exactly like  but the command is :</p><pre data-code-wrap=\"bash\"><code>\n# Build your project\n\ncrystal-alpha build src/my_app.cr -o bin/my_app\n\n# Run specs\n\ncrystal-alpha spec\n\n# Watch mode - recompiles on file changes\n\ncrystal-alpha watch src/my_app.cr\n\n</code></pre><p>This is where incremental compilation really shines. Instead of manually rebuilding after every change, run:</p><pre data-code-wrap=\"bash\"><code>\ncrystal-alpha watch src/my_app.cr -o bin/my_app\n\n</code></pre><p>Watch mode uses macOS native kqueue file monitoring — it detects the moment you save a file and triggers an incremental rebuild automatically. Only the files you changed (and anything that depends on them) get recompiled. Everything else is cached.</p><p>A few things that make this practical for real development:</p><ul><li> — Executes your binary after each successful compile. When you save a file, it kills the running process, recompiles, and restarts it. This is the one you want for web apps:</li></ul><pre data-code-wrap=\"bash\"><code>\ncrystal-alpha watch src/my_app.cr -o bin/my_app --run\n\n</code></pre><ul><li><p> — Clears the terminal before each compile so you get a clean output</p></li><li><p> — Waits 300ms after a save before compiling, so rapid saves from your editor don’t cause repeated builds</p></li><li><p> — If your code has an error, it prints the error and keeps watching. Fix the file, save, and it tries again immediately</p></li></ul><p>The point of watch mode is that you leave it running in a terminal while you work. Save a file, see the result in seconds. For a project that normally takes 30+ seconds to compile from scratch, you should see incremental rebuilds in the low single digits.</p><ol><li><p>Go to your project directory</p></li><li><p>Do a cold compile: <code>crystal-alpha build src/your_app.cr -o bin/my_app</code></p></li><li><p>Change a file - any file, even just add a comment</p></li><li><p>Tell me how long both compiles took</p></li></ol><p>You don’t need precise benchmarks. Even just “cold compile took about 30 seconds, second compile took about 4 seconds” is exactly what I’m looking for.</p><p>If you have a larger project, that’s even better. The bigger the project, the more dramatic the difference should be.</p><p>: Try watch mode for a real development session. Start <code>crystal-alpha watch src/my_app.cr -o bin/my_app --run</code>, make some edits, and tell me what the experience feels like compared to your normal workflow.</p><ul><li><p>What project you tested with (rough size is fine - “small CLI tool” vs “web app with 50 models”)</p></li><li><p>Cold compile time (rough is fine,  output works too)</p></li><li><p>Incremental compile time after a small change</p></li><li><p>Did it produce a correct binary? (aka Does your app still work?)</p></li><li><p>Any errors or weird behavior</p></li></ul><ul><li><p>macOS only (Apple Silicon and Intel) for now</p></li><li><p>This is an alpha - if something breaks, I want to hear about it</p></li><li><p>The first compile will always be the same speed as normal Crystal since there’s nothing cached yet</p></li></ul><p>Thanks for helping test this. The goal is to make Crystal development feel as fast as editing a scripting language while keeping all the performance benefits of a compiled language.</p><p><small>14 posts - 6 participants</small></p>","contentLength":3653,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Announcing Autobot - AI agent framework in Crystal","url":"https://forum.crystal-lang.org/t/announcing-autobot-ai-agent-framework-in-crystal/8715","date":1771276318,"author":"veelenga","guid":17,"unread":true,"content":"<p>Crystal deserves its own AI agent framework — and it’s a perfect fit. The language’s strengths shine here: efficiency, tiny footprint and real concurrency make it ideal for running autonomous agents.</p><p>The numbers: 2MB binary, ~5MB RAM, &lt;10ms startup, zero runtime deps. Run dozens of isolated bots on a single machine — each with its own personality, workspace, and config.</p><ul></ul><p>There’s a big roadmap ahead — MCP support, voice support, multi-agent orchestration, and more. If you’re interested in helping build the Crystal AI ecosystem, feel free to reach out. Contributions, ideas, and feedback are all welcome.</p>","contentLength":619,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"I went crazy and tried to do some hard stuff because I'm an adult and can just do things","url":"https://forum.crystal-lang.org/t/i-went-crazy-and-tried-to-do-some-hard-stuff-because-im-an-adult-and-can-just-do-things/8714","date":1771197092,"author":"crimson-knight","guid":16,"unread":true,"content":"<p>I want to combine 2 things that I love more than anything.</p><p>Not necessarily in that order.</p><p>I vibe code with Crystal all the time, it’s been perfect because of the type system, but the syntax is clean and makes it easy for Claude to mimic the patterns within the files easily. The rate of writing Ruby by accident from the models has also gone down a lot. I’m very grateful for these advancements!</p><p>So I decided to do 2 things, that are only related by Crystal and AI.</p><ol><li>I forked  and I added some tooling to allow writing documentation for agents within a library. So now you can write docs for your peferred AI coding assistant and then pass along the skills, subagents and MCPs for that library. The  project is what I called it so that there is an easy but different command from the real , this way you can try it out without disrupting the normal shards installation. This is just for testing the idea out as my workflow improves. I think others will enjoy the level of plug-and-play that I have achieved with this.</li></ol><pre data-code-wrap=\"sh\"><code># Via Homebrew\nbrew tap crimson-knight/shards\nbrew install shards-alpha\n\n# -- OR --\n\n# Install from source\ngit clone https://github.com/crimson-knight/shards.git\n\ncd shards\ncrystal build src/shards.cr -o bin/shards-alpha --release\n# Copy bin/shards-alpha somewhere on your PATH or symlink it into your /local/usr/bin\n</code></pre><pre data-code-wrap=\"sh\"><code># Set up Claude Code with compliance skills + agents\nshards-alpha assistant init\n\n# Use it like normal shards — everything is compatible\nshards-alpha install\n</code></pre><ol start=\"2\"><li>I went really crazy and decided to see if I could create a ralph-loop and get Claude Opus 4.6 to figure out how to implement WASM 3.0 as a compile target with garbage collection.</li></ol><p>And it works! There’s support for all kinds of features that are part of the spec, but I’m still working through linking all of the C libraries that we depend on being linked/compiled into the WASM target. This took  while running on a loop and at one point it gave up because it couldn’t figure out the path it was on. I had it think from a more first-principles perspective about it’s original architectural decisions and then it realized it had made an assumption too briefly–found the fig that worked that unlocked GC support–and it chugged away until done from there.</p><p>My plan is to experiment with building full stack apps with Crystal so that I can create a mono repo, and serve the web API and the entire browser app from Crystal+Amber.</p><p>What a world we live in. This is just so cool.</p>","contentLength":2471,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Crystal driving the LLM?","url":"https://forum.crystal-lang.org/t/crystal-driving-the-llm/8713","date":1771177910,"author":"Xen","guid":15,"unread":true,"content":"<p>So is anyone doing interesting stuff by letting Crystal drive the LLM?</p><p>Having Gemini explain it to me, I realized that “agentic coding” is basically just giving the LLM some tools and letting it run in a feedback loop, and I guess that’s pretty much what’s driving the recent OpenClaw hoolabaloo. Was thinking it might be interesting to build a custom agent for something.</p><p>Not that Crystal is particularly suited for working with LLMs, but neither is a look of other languages that people are using to build LLM stuff (hello nodejs), so it might as well join the fun.</p><p>So are people actually using LLM for anything but writing code?</p><p><small>12 posts - 5 participants</small></p>","contentLength":661,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Crystal in LangArena benchmark","url":"https://forum.crystal-lang.org/t/crystal-in-langarena-benchmark/8716","date":1771006449,"author":"ralsina","guid":14,"unread":true,"content":"<p>I had not seen LangArena before, so I popped in and … it’s running the crystal code single-threaded, which may explain why Matmul1T has a great score but Matmul4T 8T and 16T do rather horribly so there is some low hanging fruit for optimization there!</p><pre><code>Matmul1T: OK in 5.598s\nMatmul4T: OK in 5.809s\nMatmul8T: OK in 5.776s\nMatmul16T: OK in 5.763s\n</code></pre><pre><code>Matmul1T: OK in 5.637s\nMatmul4T: OK in 1.678s\nMatmul8T: OK in 1.523s\nMatmul16T: OK in 1.737s\n</code></pre>","contentLength":441,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"`hace` shard","url":"https://forum.crystal-lang.org/t/hace-shard/8717","date":1771004911,"author":"ralsina","guid":13,"unread":true,"content":"<p>Now I feel guilty about not working on Hace for MONTHS :-D</p>","contentLength":58,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"CrystalCommunity.org - Connecting the Crystal Community","url":"https://forum.crystal-lang.org/t/crystalcommunity-org-connecting-the-crystal-community/8711","date":1770972815,"author":"sdogruyol","guid":12,"unread":true,"content":"<p>As developers, we often work in silos. I felt the Crystal language needed a dedicated space for us to say, “Hey, I’m here, and I build with Crystal.”</p><p>\nI believe this tool belongs to the community. That’s why I’ve open-sourced the entire project. It’s currently an MVP allowing you to pin your location via GitHub login, but there is so much more we can do.</p><ol><li><p> Log in and show your location.</p></li><li><p> The code is available on GitHub. If you want to see how it works or add new features, PRs are highly welcome.</p></li></ol><p>Let’s make Crystal better together!</p>","contentLength":545,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Feedback about a more regular spotlight/showcase of Crystal projects","url":"https://forum.crystal-lang.org/t/feedback-about-a-more-regular-spotlight-showcase-of-crystal-projects/8710","date":1770911607,"author":"paulocoghi","guid":11,"unread":true,"content":"<p>The number of solid/production-ready projects built with Crystal is growing everyday. Setting aside the usual (constructive) criticisms, the language is increasingly being used for serious work, and I believe greater visibility will surely help more developers to discover it.</p><p>The idea: a more regular (monthly or bi-weekly) spotlight, mainly a blog article (and perhaps a short video interview on YouTube/X, remote or in-person like a podcast) showcasing projects that are either in production, well advanced, useful or simply funny/interesting.</p><p><em>(I know, you did it in the past, like with the <a href=\"https://crystal-lang.org/2024/05/22/lavinmq-understanding-code/\">LavinMQ’s one</a>, but I believe we could increase the frequency and expand to more projects)</em></p><p>In the same initiative, we can also regularly bring core team members, as well as important contributors like:</p><ul><li>George Dietrich from Athena</li><li>Szikszai and Sijawusz from Mint</li><li>Paul, Jeremy and Matthew from Lucky</li><li>Morgan and Marvin from Marten</li></ul><p>A semi-random example: look at <a href=\"https://github.com/omarluq/termisu\" rel=\"noopener nofollow ugc\">termisu</a> by Omar. The way he guides the project is genuinely fun, and the attention to detail (excellent docs, screenshots, overall developer experience) is impressive. I am genuinely curious to know how his experience with Crystal is. Don’t you either? <img src=\"https://emoji.discourse-cdn.com/google_classic/slight_smile.png?v=15\" title=\":slight_smile:\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p><p>I frequently browse recently updated Crystal repos on GitHub (<a href=\"https://github.com/search?q=language%3ACrystal+&amp;type=repositories&amp;s=updated&amp;o=desc&amp;p=1\" rel=\"noopener nofollow ugc\">like this</a>) and keep finding real gems.</p><p>What do you think? Other projects that you would like to add?</p><p> Congratulations on the continuous improvements on Crystal performance. I didn’t expected it to be at  level of performance by surpassing Go and Nim. One special spotlight episode could be about <a href=\"https://kostya.github.io/LangArena/\" rel=\"noopener nofollow ugc\">LangArena</a> and how amazingly good Crystal is performing in it. Thanks Kostya for the huge work on the benchmark!</p><p> I would love to start such initiative myself and, although I have available time for it, my main challenge is economical/financial since I am recovering my small business after cancer treatment. I am open for possible calls with the Manas team, if desired.</p>","contentLength":1927,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Self-sandboxing apps","url":"https://forum.crystal-lang.org/t/self-sandboxing-apps/8708","date":1770642178,"author":"ralsina","guid":10,"unread":true,"content":"<p>Basically: it’s a linux thing where apps can say “I only need this access” and once active THEY CANNOT GIVE IT UP.</p><p>So, I have code to enable it … does it sound generally useful? If yes I can make it a shard.</p>","contentLength":214,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"CrystalScript - a Crystal binary caching CLI","url":"https://forum.crystal-lang.org/t/crystalscript-a-crystal-binary-caching-cli/8706","date":1770555209,"author":"QBM","guid":9,"unread":true,"content":"<p>I wanted to be able to use Crystal as a scripting language, meaning I could run source files without them having to be systematically compiled.</p><p>It’s already possible by doing , but I wondered if I could get rid of that systematic half-second compilation time every time I run the script.</p><p>So I built a CLI named <a href=\"https://codeberg.org/quentin-bettoum/crystalscript\" rel=\"noopener nofollow ugc\">crystalscript</a> (I was not very inspired for a name). It’s basically a wrapper that will compile your script and cache the binary the first time it’s executed. After that, it will only replace the cached binary when the source changes.</p><p>The best way to use it is with shebangs, for example lets make a simple  script</p><pre data-code-wrap=\"crystal\"><code>#!/usr/bin/env crystalscript\n\nputs \"Hello\"\n</code></pre><p>Now it’s possible to call it like this</p><p>I also made it so there are different optimization mode for the binaries.</p><p>For example, when I’m creating a new script, it will change often and I want the compilation to be as fast as possible. In this case I can use this shebang.</p><pre data-code-wrap=\"crystal\"><code>#!/usr/bin/env -S crystalscript --mode dev\n</code></pre><p>When I’m done I can change the mode to  (default) or  to have a faster and lighter binary.</p><p>On a side note, I found a similar project called <a href=\"https://github.com/igor-petruk/scriptisto\" rel=\"noopener nofollow ugc\">scriptisto</a> which works with many languages, but I still wanted to try to build one myself for Crystal.</p>","contentLength":1227,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Collision reached 100,000 installations on Flathub!","url":"https://forum.crystal-lang.org/t/collision-reached-100-000-installations-on-flathub/8704","date":1770522449,"author":"GeopJr","guid":8,"unread":true,"content":"<p>As of today, my little GTK hash calculator, Collision, reached 100k installations on <a href=\"https://flathub.org/en/apps/dev.geopjr.Collision\" rel=\"noopener nofollow ugc\">Flathub</a> alone! Unfortunately, I don’t have the numbers for distro packages since they don’t usually keep count, but the Flathub stats on their own, show that a non-trivial amount of end users are running GUI software written in Crystal. Including linux mobile phones on aarch64!</p><p>Collision is (obviously) written in Crystal with C bindings for glib libraries through gi-crystal.The hashes are being calculated using stdlib’s Digest functions, in parallel, allowing it to handle hundreds of files at the same time while keeping the main loop (/ GUI thread) unblocked, thanks to the wonderful execution contexts.</p><p>I’ve been documenting my journey, so here’s some links:</p>","contentLength":758,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"How to print with --prelude empty?","url":"https://forum.crystal-lang.org/t/how-to-print-with-prelude-empty/8700","date":1770466123,"author":"kojix2","guid":7,"unread":true,"content":"<pre><code>crystal run --prelude empty script.cr\n</code></pre><p>How can I output a string when using  ?</p><p>Here is one way. Any other ideas?</p><pre data-code-wrap=\"crystal\"><code>lib LibC\n  fun puts(s : Pointer(UInt8)) : Int32  \n  fun exit(status : Int32) : NoReturn\nend\n\nfun __crystal_raise_overflow : NoReturn\n  LibC.exit(1)\nend\n\nptr = Pointer(UInt8).malloc(5)  \n(ptr + 0).value = 'H'.ord.to_u8  \n(ptr + 1).value = 'e'.ord.to_u8  \n(ptr + 2).value = 'l'.ord.to_u8  \n(ptr + 3).value = 'l'.ord.to_u8  \n(ptr + 4).value = 'o'.ord.to_u8  \n  \nLibC.puts(ptr)\n</code></pre>","contentLength":484,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"AgentKit for crystal (shard for running Agent Loops)","url":"https://forum.crystal-lang.org/t/agentkit-for-crystal-shard-for-running-agent-loops/8697","date":1770200410,"author":"alexkutsan","guid":6,"unread":true,"content":"<p>This is an LLM agent loop with support of MCP servers</p>","contentLength":53,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"[ANN] crst - A reStructuredText (RST) parser for Crystal","url":"https://forum.crystal-lang.org/t/ann-crst-a-restructuredtext-rst-parser-for-crystal/8696","date":1770198149,"author":"renich","guid":5,"unread":true,"content":"<p>I’d like to share , a reStructuredText (RST) parser I’ve been working on.</p><p>If you need to handle RST markup in Crystal; for documentation, content processing, or static sites, this shard provides a native solution that converts RST into HTML, DocBook XML, LaTeX, and plain text.</p><ul><li>Output Formats: HTML5, DocBook XML, LaTeX, Plain Text.</li><li>Standard Compliance: Supports lists, tables (simple &amp; grid), footnotes, citations, and more.</li><li>Extensible: You can define custom directives and roles.</li><li>Safe: Configurable safety options for file inclusion.</li></ul><pre data-code-wrap=\"yml\"><code>dependencies:\n  crst:\n    git: https://gitlab.com/renich/crst.git\n</code></pre><pre data-code-wrap=\"rst\"><code>require “crst”\n\ninput = &lt;&lt;-RST\nHello World\n===========\nThis is a paragraph with *emphasis*.\nRST\n\nputs Crst.to_html(input)\n</code></pre><p>Feedback and contributions are welcome.</p>","contentLength":765,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"When are folks removing `Time.monotonic` usage from their shards?","url":"https://forum.crystal-lang.org/t/when-are-folks-removing-time-monotonic-usage-from-their-shards/8691","date":1770177597,"author":"jgaskins","guid":4,"unread":true,"content":"<p>The new <a href=\"https://crystal-lang.org/api/1.19.1/Time/Instant.html\"></a> in 1.19 is great. I mainly used  to measure how long some operation took and  is perfect for that.</p><p>What  great is the long list of deprecation warnings when running specs in some of my shards. Updating apps is fine because we control which version of Crystal they use. That’s not true of shards, though. Updating those shards to use  may not be feasible if someone’s still using it on Crystal 1.18 or earlier.</p><p>How are folks dealing with this?</p>","contentLength":453,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null}],"tags":["community"]}